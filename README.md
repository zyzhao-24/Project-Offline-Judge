# PKU Offline Judge

#### 介绍

**本仓库是北京大学程序设计实习课程大作业的代码仓库**

目前仍处于开发阶段

#### 软件架构

本项目完全基于C++，使用Qt 6.9.0开发
仅兼容windows

#### 安装教程

解压即可，编译需求：
1. Qt版本高于6.9.0
2. 安装了MinGW编译器组件
3. 安装了对应版本的Qt PDF组件
4. 安装了对应版本的Qt Creator及Qt Linguist
5. 构建选项添加install

#### 开发者指引

目前剩余需要开发的功能主要为：测评内核、学生试题包打包、学生端等

文件名指引：
1. 比赛文件：.ctinfo
2. PDF: content.pdf
3. 学生文件包：.stuinfo
4. 学生提交：.sspack

基本要求：
1. 凡有新的功能，若与比赛试题数据处理直接相关，请写到``ctsettings.h``中；否则写入对应的窗口
2. 凡较为独立的功能应单独成窗
3. 窗体内控件的命名规定：功能简写+控件类型，大小写不论
4. 一切改动请git push到develop分支并发起pr merge到master（git使用说明见gitee）
5. 一切文本（代码及ui）均以英文书写，需要以中文显示的内容请用Qt Linguist翻译并编译.ts文件（ui中直接输入英文，代码中需要翻译的字符串用tr()函数处理）

内容指引：
1. 完成合理的测评流程及数据的存储（包括：预编译、生成数据、校验数据、编译、运行、检查答案，以及选择问题类型时自动生成测评流程的功能）
2. 测评工具库``testlib.h``的使用可见``TestlibInfo.md``，测评机开发时可以使用先前提供的进程运行头文件
3. 完成学生端数据的打包，要求使用提供的加密工具加密一个JSON文件作为比赛配置，题面及测试数据文件以QByteArray读取并转为hex字符串（后缀改为``stuinfo``）
4. 完成学生端的编写，应当包括比赛导入及登录、比赛开始计时、题面显示及答案提交（含简易IDE，使用``QSyntexHighlighter``，需实现自动缩进，最好实现代码补全）、样例测试和程序包导出（加密JSON配置文件，选手答案以QByteArray读取并转为hex字符串嵌入到JSON文件中，后缀``sspack``(student submission pack)）
5. 完成测评机的实现：包括对1中流程的实现、解压读取考生信息、测评结果显示及数据导出功能

整体任务量很大，需要时间投入，如觉得此方案任务量过大或过于困难可以删减内容：
提交修改后的README到gitee并merge到master，待pr通过后方案即发生修改。

#### 评测程序要求

应当符合''testlib.h''的要求，可调用''judge_utils.h''库

#### 参与贡献

赵泽宇：比赛主界面，比赛设定界面，比赛测评界面，比赛设置读盘/存盘，试题设定界面，测试数据生成界面，
程序运行工具集procexelib.h以及评测函数库judge_utils.h，测评过程数据框架JudgementProcess，评测机窗体及评测接口

鄢宇阳：学生端登陆、计时、题面PDF查看，学生试题包及提交包打包与解包，样例评测及接口调用

丁羽珩：间易代码编辑IDE，评测流程设置窗口